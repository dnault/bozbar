buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath 'org.asciidoctor:asciidoctor-gradle-plugin:1.5.2'
        classpath 'com.netflix.nebula:gradle-extra-configurations-plugin:2.2.+'
    }
}

apply plugin: 'org.asciidoctor.convert'
apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'provided-base'
apply plugin: 'findbugs'

repositories {
    jcenter()
    maven { url "https://dl.bintray.com/dnault/maven/" }
}

dependencies {
    provided 'javax.servlet:javax.servlet-api:3.1.0'

    compile 'org.slf4j:slf4j-api:1.7.12'

    compile 'com.google.code.findbugs:jsr305:3.0.0'
    compile 'com.google.guava:guava:18.0'
    compile 'org.apache.commons:commons-lang3:3.4'

    def jacksonVersion = '2.6.1'
    compile "com.fasterxml.jackson.core:jackson-databind:${jacksonVersion}"
    compile "com.fasterxml.jackson.module:jackson-module-parameter-names:${jacksonVersion}"

    compile "com.github.therapi:therapi-runtime-javadoc:0.1.0"

    //def springVersion = '4.1.6.RELEASE'
    //compile "org.springframework:spring-beans:${springVersion}"
    //compile "org.springframework:spring-context:${springVersion}"

    testCompile 'junit:junit:4.11'
    testCompile 'net.javacrumbs.json-unit:json-unit:1.6.0'
    testCompile 'org.slf4j:slf4j-simple:1.7.12'
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

tasks.withType(JavaCompile) {
    options.compilerArgs << "-parameters"
}


asciidoctor {
    attributes 'source-highlighter': 'coderay',
           // toc: '',
            idprefix: '',
            idseparator: '-',
            'data-uri': '',
            example: "${projectDir}/examples/src/main/java/com/github/dnault/therapi/example/"

    // icons               : '',
    // 'data-uri'          : ''
}
